<aside class="main-sidebar col-12 col-md-3 col-lg-2 px-0">
  <div class="main-navbar">
    <nav class="navbar align-items-stretch navbar-light bg-white flex-md-nowrap border-bottom p-0">
      <a class="navbar-brand w-100 mr-0" href="/" style="line-height: 25px;">
        <div class="d-table m-auto">
          <img id="main-logo" class="d-inline-block align-top mr-1 m-w-25" style="max-width: 25px;"
               src="/images/watchtowerlogo.svg" alt="Watchtower Dashboard">
          <span class="d-none d-md-inline ml-1">Watchtower</span>
        </div>
      </a>
      <a class="toggle-sidebar d-sm-inline d-md-none d-lg-none">
        <i class="material-icons">&#xE5C4;</i>
      </a>
    </nav>
  </div>
  <div class="nav-wrapper">
    <ul class="nav flex-column">
      <th:block th:each="menu, iter : ${sidebar}">
        <th:block th:if="${menu.getLinks().size() == 1}">
	      <li class="nav-item"  th:if="${#authorization.expression(menu.getAuthorizationExpression())}">
		      <a class="nav-link" th:each="link : ${menu.getLinks()}" th:href="${link.getUrl()}" th:target="${link.isExternalLink() ? '_blank' : '_self'}">
			    <i class="material-icons" th:text="${menu.getMaterialIcon()}"></i>
			    <span th:text="${menu.getGroupName()}"></span>
		      </a>
	      </li>
	    </th:block>
	    <th:block th:if="${menu.getLinks().size() > 1}">
	      <li class="nav-item" th:if="${#authorization.expression(menu.getAuthorizationExpression())}">
		      <a class="nav-link" th:href="${'#' + 'sidebarcollapse' + iter.index}" data-toggle="collapse">
			    <i class="material-icons" th:text="${menu.getMaterialIcon()}"></i>
	            <span th:text="${menu.getGroupName()}"></span>
	            <i class="material-icons">keyboard_arrow_right</i>
		      </a>
	      </li>
	      <div class="collapse" th:id="${'sidebarcollapse' + iter.index}">
	        <ul class="px-3">
	          <li th:each="link : ${menu.getLinks()}" th:if="${#authorization.expression(link.getAuthorizationExpression())}" class="nav-item">
			    <a class="nav-link" th:href="${link.getUrl()}" th:target="${link.isExternalLink() ? '_blank' : '_self'}">
			      <i class="material-icons" th:text="${link.getMaterialIcon()}"></i>
		  	      <span th:text="${link.getDisplayName()}"></span>
		  	    </a>      
	          </li>
	        </ul>
	      </div>
	    </th:block>
      </th:block> 
    </ul>
  </div>
  
  
  
  </aside>
